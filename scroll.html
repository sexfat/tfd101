<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- 導入動畫套件  gsap 2 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
    <!-- 導入  jquery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- scrollmagic 主要程式 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/ScrollMagic.min.js"></script>
    <!-- scrollmagic + gsap  -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/animation.gsap.min.js"></script>
    <!-- scrollmagic 觸發點指標顯示 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/debug.addIndicators.min.js"></script>
    <link rel="stylesheet" href="scroll.css">
    <title>scroll</title>

</head>

<body>
    <section id="area01"></section>
    <!-- 觸發點 -->
    <div id="trigger01"></div>
    <!-- 場景 -->
    <section id="area02">
        <div  class="box m1">m1</div>
    </section>
    <!-- 觸發點 -->
    <div id="trigger02"></div>
    <!-- 第二個場景 -->
    <section class="area03" id="area03">
        <div class="box m2">m2</div>
    </section>
    <section id="area04"></section>
    <section id="area05"></section>
    <script>

        var controller = new ScrollMagic.Controller();
        //01 動畫
        

        // var  m1 = TweenMax.to('.m1', 1, { x: 300 });

        var tl = new TimelineMax();
        tl.set('.m1' , {opacity :0}).to('.m1' , 1 , {
            x: 300,
            opacity: 1
        }).to('.m1' , 1, {y: 400}).to('.m1' , 1 , {
            rotation: 360,
            x: 500,
            scale: 4,
            backgroundColor: 'green'
        })



        // scroll 觸發
        new ScrollMagic.Scene({
            triggerElement : '#trigger01' ,  // 觸發點位址
            offset : 10 ,  // 場景觸發點調整位址
            triggerHook : 0.5 , // 瀏覽器觸發點
            reverse :  true , //動畫返回 預設：true
            duration: '300px' //scroll 距離 

        }).setTween(tl).addIndicators().addTo(controller);

        //場景二的動畫

        TweenMax.to('.m2' , 1 , {
            y: 100
        })

        new ScrollMagic.Scene({
            triggerElement: 'trigger02'
        }).setClassToggle('.area03' , 'active')
        .addIndicators().addTo(controller);










    </script>
</body>

</html>